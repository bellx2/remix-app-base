generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model apikeys {
  id     Int     @id @default(autoincrement()) @db.UnsignedInt
  apikey String? @db.TinyText
  device String? @db.TinyText
}

model devices {
  id      Int     @id @default(autoincrement()) @db.UnsignedInt
  serial  String  @db.TinyText
  opt     String? @db.TinyText
  status  Int?
  opt1    String? @db.TinyText
  name    String? @db.TinyText
  webhook String? @db.TinyText
  owner   Int?
}

model lprlogs {
  id          Int       @id @default(autoincrement())
  device      String?   @db.VarChar(255)
  plate       String?   @db.VarChar(255)
  created_at  DateTime  @default(now()) @db.DateTime(0)
  recorded_at DateTime? @db.DateTime(0)
  address     String?   @db.TinyText
  image       String?   @db.TinyText
  area        String?   @db.VarChar(255)
  pos         String?   @db.TinyText
  deleted     Int?      @default(0) @db.TinyInt

  @@index([deleted], map: "deleted")
  @@index([device], map: "device")
  @@index([device, recorded_at, deleted], map: "device_2")
  @@index([id, deleted, recorded_at], map: "id")
  @@index([device, deleted], map: "idx_device_deleted")
  @@index([recorded_at], map: "idx_recorded_at")
  @@index([plate, device, deleted], map: "plate")
  @@index([recorded_at, deleted], map: "recorded_at")
}
